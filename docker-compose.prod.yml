# RedstoneCore Agent - Production Docker Compose
# Download: curl -O https://redstonecore.net/downloads/docker-compose.yml
# Usage: docker-compose up -d

services:
  redstonecore:
    image: ghcr.io/sterango/redstonecore-agent:latest
    container_name: redstonecore
    restart: unless-stopped
    network_mode: host

    environment:
      # Required: Your license key from redstonecore.net
      - RSC_LICENSE_KEY=${RSC_LICENSE_KEY}

      # Optional: Timezone (default: UTC)
      - TZ=${TZ:-UTC}

    volumes:
      # Server data (world files, plugins, mods, etc.)
      - ./data:/data

      # Configuration files
      - ./config:/config

    # Resource limits (adjust based on your needs)
    deploy:
      resources:
        limits:
          memory: 8G
        reservations:
          memory: 2G

    # Logging configuration
    logging:
      driver: "json-file"
      options:
        max-size: "50m"
        max-file: "5"
